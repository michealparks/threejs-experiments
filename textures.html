<title>ThreeJS Experiments: Materials | Micheal Parks</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel='stylesheet' href='css/index.css' />

<a class='button' href='/threejs-experiments'>Back</a>

<canvas></canvas>

<script type='module'>
import { THREE, createCore, createOrbitControls } from './js/core.js'
import { initXR } from './js/xr.js'
import { loadTexture } from './js/loaders.js'
import { createCube } from './js/objects.js'
import { COLORS, SHADOW_MAP } from './js/constants.js'

const core = createCore({ ambientLight: 0.6 })
const { renderer, camera, scene, setAnimationLoop } = core
camera.near = 0.1
camera.far = 1000.0
camera.fov = 50

const controls = createOrbitControls({ renderer, camera, rotate: false })

const main = async () => {
  const map = await loadTexture('assets/jpg/BrickWall_Square.jpg')
  const mat = new THREE.MeshPhongMaterial({ map })
  mat.map.anisotropy = renderer.capabilities.getMaxAnisotropy()
  const cube = createCube({ mat })
  scene.add(cube)

  const frame = (time) => {
    controls.update()
  }

  initXR({ renderer })
  setAnimationLoop({ frame })
}

main()
</script>