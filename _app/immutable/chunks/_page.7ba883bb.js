import{s as o}from"./boolean_attributes.386354a9.js";import{S as n,i as s}from"./index.34db41e6.js";import{b6 as e,t,C as a,h as r,m as i,b8 as d,z as m}from"./trzy.7fd33118.js";import{d as c}from"./debug.b29673c9.js";function p(o){const{scene:n,camera:s}=e();s.current.position.set(0,4,4),s.current.lookAt(0,0,0);const p={count:1e4,pointSize:.001,radius:1.82,branches:10,spin:1.304,randomness:.413,randomnessPower:3.543,insideColor:"#ff6030",outsideColor:"#1b3984"};let u,l,h;const w=()=>{h&&(u.dispose(),l.dispose(),n.remove(h)),u=new t;const o=new Float32Array(3*p.count),s=new Float32Array(3*p.count),e=new a(p.insideColor),c=new a(p.outsideColor);for(let n=0,t=0;n<3*p.count;n+=1,t=3*n){const a=Math.random()*p.radius,r=a*p.spin,i=n%p.branches/p.branches*Math.PI*2,d=Math.pow(Math.random(),p.randomnessPower)*(Math.random()<.5?1:-1)*p.randomness*a,m=Math.pow(Math.random(),p.randomnessPower)*(Math.random()<.5?1:-1)*p.randomness*a,u=Math.pow(Math.random(),p.randomnessPower)*(Math.random()<.5?1:-1)*p.randomness*a;o[t+0]=Math.cos(i+r)*a+d,o[t+1]=m,o[t+2]=Math.sin(i+r)*a+u;const l=e.clone();l.lerp(c,a/p.radius),s[t+0]=l.r,s[t+1]=l.g,s[t+2]=l.b}u.setAttribute("position",new r(o,3)),u.setAttribute("color",new r(s,3)),l=new i,l.size=p.pointSize,l.sizeAttenuation=!0,l.depthWrite=!1,l.blending=d,l.vertexColors=!0,h=new m(u,l),n.add(h)},b=c.addPane("Galaxy"),M={count:{min:100,max:1e6,step:100},pointSize:{min:.001,max:.1,step:.001},radius:{min:.1,max:10,step:.01},branches:{min:2,max:20,step:1},spin:{min:-5,max:5,step:.001},randomness:{min:0,max:2,step:.001},randomnessPower:{min:1,max:10,step:.001},insideColor:void 0,outsideColor:void 0},x=()=>{w()};for(const[e,t]of Object.entries(M))b.addInput(p,e,t).on("change",x);return w(),[]}class u extends n{constructor(n){super(),s(this,n,p,null,o,{})}}export{u as default};
