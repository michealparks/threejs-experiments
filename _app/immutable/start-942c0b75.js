import{S as e,i as t,s as r,a,e as n,c as o,b as s,g as l,t as i,d as c,f as u,h as d,j as p,o as f,k as h,l as m,m as g,n as _,p as v,q as y,r as w,u as b,v as $,w as E,x as k,y as R,z as j,A as O}from"./chunks/index-f58f646f.js";import{g as I,f as L,s as A,a as P,i as S}from"./chunks/singletons-6383e872.js";import{_ as x}from"./chunks/preload-helper-aa6bc0ce.js";import{s as T}from"./chunks/paths-6cd3a76e.js";function D(e,t){return"/"===e||"ignore"===t?e:"never"===t?e.endsWith("/")?e.slice(0,-1):e:"always"!==t||e.endsWith("/")?e:e+"/"}function V(e){for(const t in e)e[t]=e[t].replace(/%23/g,"#").replace(/%3[Bb]/g,";").replace(/%2[Cc]/g,",").replace(/%2[Ff]/g,"/").replace(/%3[Ff]/g,"?").replace(/%3[Aa]/g,":").replace(/%40/g,"@").replace(/%26/g,"&").replace(/%3[Dd]/g,"=").replace(/%2[Bb]/g,"+").replace(/%24/g,"$");return e}const U=["href","pathname","search","searchParams","toString","toJSON"];function N(e,t){const r=new URL(e);for(const a of U){let e=r[a];Object.defineProperty(r,a,{get:()=>(t(),e),enumerable:!0,configurable:!0})}return function(e){Object.defineProperty(e,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}(r),r}const B=window.fetch;window.fetch=(e,t)=>{if("GET"!==(e instanceof Request?e.method:(null==t?void 0:t.method)||"GET")){const t=new URL(e instanceof Request?e.url:e.toString(),document.baseURI).href;q.delete(t)}return B(e,t)};const q=new Map;function J(e,t,r){let a=`script[data-sveltekit-fetched][data-url=${JSON.stringify(e instanceof Request?e.url:e)}]`;(null==r?void 0:r.body)&&("string"==typeof r.body||ArrayBuffer.isView(r.body))&&(a+=`[data-hash="${function(e){let t=5381;if("string"==typeof e){let r=e.length;for(;r;)t=33*t^e.charCodeAt(--r)}else{if(!ArrayBuffer.isView(e))throw new TypeError("value must be a string or TypedArray");{const r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);let a=r.length;for(;a;)t=33*t^r[--a]}}return(t>>>0).toString(36)}(r.body)}"]`);const n=document.querySelector(a);if(null==n?void 0:n.textContent){const{body:e,...r}=JSON.parse(n.textContent),a=n.getAttribute("data-ttl");return a&&q.set(t,{body:e,init:r,ttl:1e3*Number(a)}),Promise.resolve(new Response(e,r))}return B(e,r)}const C=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function M(e){return!/^\([^)]+\)$/.test(e)}function F(e){let t,r,a;var o=e[0][0];function p(e){return{props:{data:e[2],form:e[1]}}}return o&&(t=$(o,p(e))),{c(){t&&E(t.$$.fragment),r=n()},l(e){t&&k(t.$$.fragment,e),r=n()},m(e,n){t&&R(t,e,n),s(e,r,n),a=!0},p(e,a){const n={};if(4&a&&(n.data=e[2]),2&a&&(n.form=e[1]),o!==(o=e[0][0])){if(t){l();const e=t;i(e.$$.fragment,1,0,(()=>{j(e,1)})),c()}o?(t=$(o,p(e)),E(t.$$.fragment),u(t.$$.fragment,1),R(t,r.parentNode,r)):t=null}else o&&t.$set(n)},i(e){a||(t&&u(t.$$.fragment,e),a=!0)},o(e){t&&i(t.$$.fragment,e),a=!1},d(e){e&&d(r),t&&j(t,e)}}}function G(e){let t,r,a;var o=e[0][0];function p(e){return{props:{data:e[2],$$slots:{default:[K]},$$scope:{ctx:e}}}}return o&&(t=$(o,p(e))),{c(){t&&E(t.$$.fragment),r=n()},l(e){t&&k(t.$$.fragment,e),r=n()},m(e,n){t&&R(t,e,n),s(e,r,n),a=!0},p(e,a){const n={};if(4&a&&(n.data=e[2]),523&a&&(n.$$scope={dirty:a,ctx:e}),o!==(o=e[0][0])){if(t){l();const e=t;i(e.$$.fragment,1,0,(()=>{j(e,1)})),c()}o?(t=$(o,p(e)),E(t.$$.fragment),u(t.$$.fragment,1),R(t,r.parentNode,r)):t=null}else o&&t.$set(n)},i(e){a||(t&&u(t.$$.fragment,e),a=!0)},o(e){t&&i(t.$$.fragment,e),a=!1},d(e){e&&d(r),t&&j(t,e)}}}function K(e){let t,r,a;var o=e[0][1];function p(e){return{props:{data:e[3],form:e[1]}}}return o&&(t=$(o,p(e))),{c(){t&&E(t.$$.fragment),r=n()},l(e){t&&k(t.$$.fragment,e),r=n()},m(e,n){t&&R(t,e,n),s(e,r,n),a=!0},p(e,a){const n={};if(8&a&&(n.data=e[3]),2&a&&(n.form=e[1]),o!==(o=e[0][1])){if(t){l();const e=t;i(e.$$.fragment,1,0,(()=>{j(e,1)})),c()}o?(t=$(o,p(e)),E(t.$$.fragment),u(t.$$.fragment,1),R(t,r.parentNode,r)):t=null}else o&&t.$set(n)},i(e){a||(t&&u(t.$$.fragment,e),a=!0)},o(e){t&&i(t.$$.fragment,e),a=!1},d(e){e&&d(r),t&&j(t,e)}}}function W(e){let t,r=e[5]&&z(e);return{c(){t=h("div"),r&&r.c(),this.h()},l(e){t=m(e,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,style:!0});var a=g(t);r&&r.l(a),a.forEach(d),this.h()},h(){_(t,"id","svelte-announcer"),_(t,"aria-live","assertive"),_(t,"aria-atomic","true"),v(t,"position","absolute"),v(t,"left","0"),v(t,"top","0"),v(t,"clip","rect(0 0 0 0)"),v(t,"clip-path","inset(50%)"),v(t,"overflow","hidden"),v(t,"white-space","nowrap"),v(t,"width","1px"),v(t,"height","1px")},m(e,a){s(e,t,a),r&&r.m(t,null)},p(e,a){e[5]?r?r.p(e,a):(r=z(e),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(e){e&&d(t),r&&r.d()}}}function z(e){let t;return{c(){t=y(e[6])},l(r){t=w(r,e[6])},m(e,r){s(e,t,r)},p(e,r){64&r&&b(t,e[6])},d(e){e&&d(t)}}}function H(e){let t,r,p,f,h;const m=[G,F],g=[];function _(e,t){return e[0][1]?0:1}t=_(e),r=g[t]=m[t](e);let v=e[4]&&W(e);return{c(){r.c(),p=a(),v&&v.c(),f=n()},l(e){r.l(e),p=o(e),v&&v.l(e),f=n()},m(e,r){g[t].m(e,r),s(e,p,r),v&&v.m(e,r),s(e,f,r),h=!0},p(e,[a]){let n=t;t=_(e),t===n?g[t].p(e,a):(l(),i(g[n],1,1,(()=>{g[n]=null})),c(),r=g[t],r?r.p(e,a):(r=g[t]=m[t](e),r.c()),u(r,1),r.m(p.parentNode,p)),e[4]?v?v.p(e,a):(v=W(e),v.c(),v.m(f.parentNode,f)):v&&(v.d(1),v=null)},i(e){h||(u(r),h=!0)},o(e){i(r),h=!1},d(e){g[t].d(e),e&&d(p),v&&v.d(e),e&&d(f)}}}function Q(e,t,r){let{stores:a}=t,{page:n}=t,{components:o}=t,{form:s}=t,{data_0:l=null}=t,{data_1:i=null}=t;p(a.page.notify);let c=!1,u=!1,d=null;return f((()=>{const e=a.page.subscribe((()=>{c&&(r(5,u=!0),r(6,d=document.title||"untitled page"))}));return r(4,c=!0),e})),e.$$set=e=>{"stores"in e&&r(7,a=e.stores),"page"in e&&r(8,n=e.page),"components"in e&&r(0,o=e.components),"form"in e&&r(1,s=e.form),"data_0"in e&&r(2,l=e.data_0),"data_1"in e&&r(3,i=e.data_1)},e.$$.update=()=>{384&e.$$.dirty&&a.page.set(n)},[o,s,l,i,c,u,d,a,n]}class X extends e{constructor(e){super(),t(this,e,Q,H,r,{stores:7,page:8,components:0,form:1,data_0:2,data_1:3})}}const Y=[()=>x((()=>import("./chunks/0-fff1a619.js")),["chunks/0-fff1a619.js","chunks/_layout-824bfd53.js","components/pages/_layout.svelte-749d51e0.js","assets/_layout-187ee799.css","chunks/preload-helper-aa6bc0ce.js","chunks/index-f58f646f.js","chunks/debug-48e54f3f.js","chunks/index-40248176.js","chunks/paths-6cd3a76e.js"],import.meta.url),()=>x((()=>import("./chunks/1-b93540cd.js")),["chunks/1-b93540cd.js","components/error.svelte-acd8486b.js","chunks/index-f58f646f.js","chunks/singletons-6383e872.js","chunks/paths-6cd3a76e.js"],import.meta.url),()=>x((()=>import("./chunks/2-b3560902.js")),["chunks/2-b3560902.js","components/pages/_page.svelte-18a7febc.js","chunks/index-f58f646f.js","components/pages/portal/_page.svelte-dd6c5396.js","chunks/index-40248176.js"],import.meta.url),()=>x((()=>import("./chunks/3-e1c868e9.js")),["chunks/3-e1c868e9.js","components/pages/alley/_page.svelte-ac26bfba.js","chunks/index-f58f646f.js","chunks/index-40248176.js"],import.meta.url),()=>x((()=>import("./chunks/4-822a76b6.js")),["chunks/4-822a76b6.js","components/pages/baked/_page.svelte-43a40255.js","chunks/index-f58f646f.js","chunks/index-40248176.js"],import.meta.url),()=>x((()=>import("./chunks/5-5209ada5.js")),["chunks/5-5209ada5.js","components/pages/campfire/_page.svelte-96e5bc61.js","chunks/index-f58f646f.js","chunks/index-40248176.js","chunks/util-343fee83.js","chunks/util-three-38ee6e66.js"],import.meta.url),()=>x((()=>import("./chunks/6-bb0b2a44.js")),["chunks/6-bb0b2a44.js","components/pages/galaxy/_page.svelte-a3e5fa8d.js","chunks/index-f58f646f.js","chunks/debug-48e54f3f.js","chunks/index-40248176.js"],import.meta.url),()=>x((()=>import("./chunks/7-a5f0c344.js")),["chunks/7-a5f0c344.js","components/pages/instanced/_page.svelte-05efe22f.js","chunks/index-f58f646f.js","chunks/index-40248176.js"],import.meta.url),()=>x((()=>import("./chunks/8-dc71905a.js")),["chunks/8-dc71905a.js","components/pages/matrix/_page.svelte-5fa6400f.js","chunks/index-f58f646f.js","chunks/index-40248176.js","chunks/constants-b2d70307.js","chunks/util-three-38ee6e66.js"],import.meta.url),()=>x((()=>import("./chunks/9-4584b369.js")),["chunks/9-4584b369.js","components/pages/model/_page.svelte-37bcef21.js","chunks/index-f58f646f.js","chunks/index-40248176.js"],import.meta.url),()=>x((()=>import("./chunks/10-d691ec4d.js")),["chunks/10-d691ec4d.js","components/pages/particles/_page.svelte-e0c2c04a.js","chunks/index-f58f646f.js","chunks/index-40248176.js","chunks/util-three-38ee6e66.js"],import.meta.url),()=>x((()=>import("./chunks/11-398e0d73.js")),["chunks/11-398e0d73.js","components/pages/planets/_page.svelte-9135ef1d.js","chunks/index-f58f646f.js","chunks/index-40248176.js","chunks/constants-b2d70307.js"],import.meta.url),()=>x((()=>import("./chunks/12-c0884db6.js")),["chunks/12-c0884db6.js","components/pages/portal/_page.svelte-dd6c5396.js","chunks/index-f58f646f.js","chunks/index-40248176.js"],import.meta.url),()=>x((()=>import("./chunks/13-27e3fd19.js")),["chunks/13-27e3fd19.js","components/pages/raycaster/_page.svelte-25402ae7.js","chunks/index-f58f646f.js","chunks/index-40248176.js","chunks/util-three-38ee6e66.js"],import.meta.url),()=>x((()=>import("./chunks/14-d0c461a3.js")),["chunks/14-d0c461a3.js","components/pages/room/_page.svelte-e2798100.js","chunks/index-f58f646f.js","chunks/index-40248176.js"],import.meta.url),()=>x((()=>import("./chunks/15-a6e6a37d.js")),["chunks/15-a6e6a37d.js","components/pages/sea/_page.svelte-672146b4.js","chunks/index-f58f646f.js","chunks/index-40248176.js","chunks/debug-48e54f3f.js"],import.meta.url),()=>x((()=>import("./chunks/16-ca0edfe6.js")),["chunks/16-ca0edfe6.js","components/pages/shader/_page.svelte-bab12fcd.js","chunks/index-f58f646f.js","chunks/index-40248176.js"],import.meta.url),()=>x((()=>import("./chunks/17-d11b0617.js")),["chunks/17-d11b0617.js","components/pages/shader-patterns/_page.svelte-53fb228d.js","chunks/index-f58f646f.js","chunks/index-40248176.js"],import.meta.url),()=>x((()=>import("./chunks/18-3f9844f9.js")),["chunks/18-3f9844f9.js","components/pages/sphere-particles/_page.svelte-3ccadc93.js","chunks/index-f58f646f.js","chunks/index-40248176.js","chunks/util-343fee83.js","chunks/debug-48e54f3f.js"],import.meta.url),()=>x((()=>import("./chunks/19-23cd136d.js")),["chunks/19-23cd136d.js","components/pages/sushi/_page.svelte-f3779711.js","chunks/index-f58f646f.js"],import.meta.url),()=>x((()=>import("./chunks/20-861d5c77.js")),["chunks/20-861d5c77.js","components/pages/terrain/_page.svelte-aa172415.js","chunks/index-f58f646f.js","chunks/index-40248176.js"],import.meta.url)],Z=({error:e})=>{console.error(e)};class ee{constructor(e,t){this.status=e,this.body="string"==typeof t?{message:t}:t||{message:`Error: ${e}`}}toString(){return JSON.stringify(this.body)}}class te{constructor(e,t){this.status=e,this.location=t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0"),Object.getOwnPropertyNames(Object.prototype).sort().join("\0");const re="sveltekit:index",ae=function(e,t,r,a){const n=new Set(t);return Object.entries(r).map((([t,[r,n,l]])=>{const{pattern:i,names:c,types:u}=function(e){const t=[],r=[];let a=!0;return{pattern:"/"===e?/^\/$/:new RegExp(`^${e.split(/(?:\/|$)/).slice(1).filter(M).map(((e,n,o)=>{const s=decodeURIComponent(e),l=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(s);if(l)return t.push(l[1]),r.push(l[2]),"(?:/(.*))?";const i=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(s);if(i)return t.push(i[1]),r.push(i[2]),"(?:/([^/]+))?";const c=n===o.length-1;return s?"/"+s.split(/\[(.+?)\](?!\])/).map(((e,n)=>{if(n%2){const a=C.exec(e);if(!a)throw new Error(`Invalid param: ${e}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,n,o,s,l]=a;return t.push(s),r.push(l),o?"(.*?)":n?"([^/]*)?":"([^/]+?)"}return c&&e.includes(".")&&(a=!1),e.normalize().replace(/%5[Bb]/g,"[").replace(/%5[Dd]/g,"]").replace(/#/g,"%23").replace(/\?/g,"%3F").replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})).join(""):void 0})).join("")}${a?"/?":""}$`),names:t,types:r}}(t),d={id:t,exec:e=>{const t=i.exec(e);if(t)return function(e,t,r,a){const n={};for(let o=0;o<t.length;o+=1){const s=t[o],l=r[o];let i=e[o+1]||"";if(l){const e=a[l];if(!e)throw new Error(`Missing "${l}" param matcher`);if(!e(i))return}n[s]=i}return n}(t,c,u,a)},errors:[1,...l||[]].map((t=>e[t])),layouts:[0,...n||[]].map(s),leaf:o(r)};return d.errors.length=d.layouts.length=Math.max(d.errors.length,d.layouts.length),d}));function o(t){const r=t<0;return r&&(t=~t),[r,e[t]]}function s(t){return void 0===t?t:[n.has(t),e[t]]}}(Y,[],{"/":[2],"/alley":[3],"/baked":[4],"/campfire":[5],"/galaxy":[6],"/instanced":[7],"/matrix":[8],"/model":[9],"/particles":[10],"/planets":[11],"/portal":[12],"/raycaster":[13],"/room":[14],"/sea":[15],"/shader-patterns":[17],"/shader":[16],"/sphere-particles":[18],"/sushi":[19],"/terrain":[20]},{}),ne=Y[0],oe=Y[1];ne(),oe();let se={};try{se=JSON.parse(sessionStorage["sveltekit:scroll"])}catch{}function le(e){se[e]=P()}function ie({target:e,base:t,trailing_slash:r}){var a;const n=[];let o=null;const s={before_navigate:[],after_navigate:[]};let l,i={branch:[],error:null,url:null},c=!1,u=!1,d=!0,p=!1,h=!1,m=null==(a=history.state)?void 0:a[re];m||(m=Date.now(),history.replaceState({...history.state,[re]:m},"",location.href));const g=se[m];g&&(history.scrollRestoration="manual",scrollTo(g.x,g.y));let _,v,y,w=!1;async function b(){y=y||Promise.resolve(),await y,y=null;const e=new URL(location.href),t=F(e,!0);o=null,await k(t,e,[])}async function $(e,{noscroll:t=!1,replaceState:r=!1,keepfocus:a=!1,state:n={}},o,s){return"string"==typeof e&&(e=new URL(e,I(document))),K({url:e,scroll:t?P():null,keepfocus:a,redirect_chain:o,details:{state:n,replaceState:r},nav_token:s,accepted:()=>{},blocked:()=>{},type:"goto"})}async function E(e){const t=F(e,!1);if(!t)throw new Error(`Attempted to prefetch a URL that does not belong to this app: ${e}`);return o={id:t.id,promise:U(t)},o.promise}async function k(e,t,r,a,s={},c){var f,g;v=s;let y=e&&await U(e);if(y||(y=await W(t,null,ue(new Error(`Not found: ${t.pathname}`),{url:t,params:{},routeId:null}),404)),t=(null==e?void 0:e.url)||t,v!==s)return!1;if("redirect"===y.type){if(!(r.length>10||r.includes(t.pathname)))return $(new URL(y.location,t).href,{},[...r,t.pathname],s),!1;y=await M({status:500,error:ue(new Error("Redirect loop"),{url:t,params:{},routeId:null}),url:t,routeId:null})}else if((null==(g=null==(f=y.props)?void 0:f.page)?void 0:g.status)>=400){await A.updated.check()&&await z(t)}if(n.length=0,h=!1,p=!0,a&&a.details){const{details:e}=a,r=e.replaceState?0:1;e.state[re]=m+=r,history[e.replaceState?"replaceState":"pushState"](e.state,"",t)}if(o=null,u){i=y.state,y.props.page&&(y.props.page.url=t);const e=()=>{};l.$set(y.props),e()}else R(y);if(a){const{scroll:e,keepfocus:r}=a;if(!r){const e=document.body,t=e.getAttribute("tabindex");e.tabIndex=-1,e.focus({preventScroll:!0}),setTimeout((()=>{var e;null==(e=getSelection())||e.removeAllRanges()})),null!==t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}if(await O(),d){const r=t.hash&&document.getElementById(t.hash.slice(1));e?scrollTo(e.x,e.y):r?r.scrollIntoView():scrollTo(0,0)}}else await O();d=!0,y.props.page&&(_=y.props.page),c&&c(),p=!1}function R(t){var r,a;i=t.state;const n=document.querySelector("style[data-sveltekit]");n&&n.remove(),_=t.props.page;const o=()=>{};l=new X({target:e,props:{...t.props,stores:A},hydrate:!0}),o();const c={from:null,to:pe("to",{params:i.params,routeId:null!=(a=null==(r=i.route)?void 0:r.id)?a:null,url:new URL(location.href)}),type:"load"};s.after_navigate.forEach((e=>e(c))),u=!0}async function j({url:e,params:t,branch:r,status:a,error:n,route:o,form:s}){var l;const c=r.filter(Boolean),u={type:"loaded",state:{url:e,params:t,branch:r,error:n,route:o},props:{components:c.map((e=>e.node.component))}};void 0!==s&&(u.props.form=s);let d={},p=!_;for(let f=0;f<c.length;f+=1){const e=c[f];d={...d,...e.data},!p&&i.branch.some((t=>t===e))||(u.props[`data_${f}`]=d,p=p||Object.keys(null!=(l=e.data)?l:{}).length>0)}p||(p=Object.keys(_.data).length!==Object.keys(d).length);if(!i.url||e.href!==i.url.href||i.error!==n||void 0!==s||p){u.props.page={error:n,params:t,routeId:o&&o.id,status:a,url:e,form:s,data:p?d:_.data};const r=(e,t)=>{Object.defineProperty(u.props.page,e,{get:()=>{throw new Error(`$page.${e} has been replaced by $page.url.${t}`)}})};r("origin","origin"),r("path","pathname"),r("query","searchParams")}return u}async function S({loader:e,parent:t,url:r,params:a,routeId:n,server_data_node:o}){var s,l,i,c,d;let p=null;const f={dependencies:new Set,params:new Set,parent:!1,url:!1},h=await e();if(null==(s=h.shared)?void 0:s.load){let e=function(...e){for(const t of e){const{href:e}=new URL(t,r);f.dependencies.add(e)}};const s={routeId:n,params:new Proxy(a,{get:(e,t)=>(f.params.add(t),e[t])}),data:null!=(l=null==o?void 0:o.data)?l:null,url:N(r,(()=>{f.url=!0})),async fetch(t,a){let n;t instanceof Request?(n=t.url,a={body:"GET"===t.method||"HEAD"===t.method?void 0:await t.blob(),cache:t.cache,credentials:t.credentials,headers:t.headers,integrity:t.integrity,keepalive:t.keepalive,method:t.method,mode:t.mode,redirect:t.redirect,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:t.signal,...a}):n=t;const o=new URL(n,r).href;return e(o),u?function(e,t){const r=q.get(e);if(r){if(performance.now()<r.ttl)return new Response(r.body,r.init);q.delete(e)}return B(e,t)}(o,a):J(n,o,a)},setHeaders:()=>{},depends:e,parent:()=>(f.parent=!0,t())};Object.defineProperties(s,{props:{get(){throw new Error("@migration task: Replace `props` with `data` stuff https://github.com/sveltejs/kit/discussions/5774#discussioncomment-3292693")},enumerable:!1},session:{get(){throw new Error("session is no longer available. See https://github.com/sveltejs/kit/discussions/5883")},enumerable:!1},stuff:{get(){throw new Error("@migration task: Remove stuff https://github.com/sveltejs/kit/discussions/5774#discussioncomment-3292693")},enumerable:!1}}),p=null!=(i=await h.shared.load.call(null,s))?i:null,p=p?await async function(e){var t;for(const r in e)if("function"==typeof(null==(t=e[r])?void 0:t.then))return Object.fromEntries(await Promise.all(Object.entries(e).map((async([e,t])=>[e,await t]))));return e}(p):null}return{node:h,loader:e,server:o,shared:(null==(c=h.shared)?void 0:c.load)?{type:"data",data:p,uses:f}:null,data:null!=(d=null!=p?p:null==o?void 0:o.data)?d:null}}function x(e,t,r,a){if(h)return!0;if(!r)return!1;if(r.parent&&t)return!0;if(r.url&&e)return!0;for(const n of r.params)if(a[n]!==i.params[n])return!0;for(const o of r.dependencies)if(n.some((e=>e(new URL(o)))))return!0;return!1}function T(e,t){var r,a;return"data"===(null==e?void 0:e.type)?{type:"data",data:e.data,uses:{dependencies:new Set(null!=(r=e.uses.dependencies)?r:[]),params:new Set(null!=(a=e.uses.params)?a:[]),parent:!!e.uses.parent,url:!!e.uses.url}}:"skip"===(null==e?void 0:e.type)&&null!=t?t:null}async function U({id:e,invalidating:t,url:r,params:a,route:n}){var s;if((null==o?void 0:o.id)===e)return o.promise;const{errors:l,layouts:c,leaf:u}=n,d=[...c,u];l.forEach((e=>null==e?void 0:e().catch((()=>{})))),d.forEach((e=>null==e?void 0:e[1]().catch((()=>{}))));let p=null;const f=!!i.url&&e!==i.url.pathname+i.url.search,h=d.reduce(((e,t,r)=>{var n;const o=i.branch[r],s=!!(null==t?void 0:t[0])&&((null==o?void 0:o.loader)!==t[1]||x(f,e.some(Boolean),null==(n=o.server)?void 0:n.uses,a));return e.push(s),e}),[]);if(h.some(Boolean)){try{p=await ce(r,h)}catch(y){return M({status:500,error:ue(y,{url:r,params:a,routeId:n.id}),url:r,routeId:n.id})}if("redirect"===p.type)return p}const m=null==p?void 0:p.nodes;let g=!1;const _=d.map((async(e,t)=>{var o;if(!e)return;const s=i.branch[t],l=null==m?void 0:m[t];if(!(l&&"skip"!==l.type||e[1]!==(null==s?void 0:s.loader)||x(f,g,null==(o=s.shared)?void 0:o.uses,a)))return s;if(g=!0,"error"===(null==l?void 0:l.type))throw l;return S({loader:e[1],url:r,params:a,routeId:n.id,parent:async()=>{var e;const r={};for(let a=0;a<t;a+=1)Object.assign(r,null==(e=await _[a])?void 0:e.data);return r},server_data_node:T(void 0===l&&e[0]?{type:"skip"}:null!=l?l:null,null==s?void 0:s.server)})}));for(const o of _)o.catch((()=>{}));const v=[];for(let o=0;o<d.length;o+=1)if(d[o])try{v.push(await _[o])}catch(w){if(w instanceof te)return{type:"redirect",location:w.location};let e,t=500;(null==m?void 0:m.includes(w))?(t=null!=(s=w.status)?s:t,e=w.error):w instanceof ee?(t=w.status,e=w.body):e=ue(w,{params:a,url:r,routeId:n.id});const i=await C(o,v,l);return i?await j({url:r,params:a,branch:v.slice(0,i.idx).concat(i.node),status:t,error:e,route:n}):await W(r,n.id,e,t)}else v.push(void 0);return await j({url:r,params:a,branch:v,status:200,error:null,route:n,form:t?void 0:null})}async function C(e,t,r){for(;e--;)if(r[e]){let n=e;for(;!t[n];)n-=1;try{return{idx:n+1,node:{node:await r[e](),loader:r[e],data:{},server:null,shared:null}}}catch(a){continue}}}async function M({status:e,error:t,url:r,routeId:a}){var n;const o={};let s=null;if((await ne()).server)try{const e=await ce(r,[!0]);if("data"!==e.type||e.nodes[0]&&"data"!==e.nodes[0].type)throw 0;s=null!=(n=e.nodes[0])?n:null}catch{(r.origin!==location.origin||r.pathname!==location.pathname||c)&&await z(r)}const l=await S({loader:ne,url:r,params:o,routeId:a,parent:()=>Promise.resolve({}),server_data_node:T(s)}),i={node:await oe(),loader:oe,shared:null,server:null,data:null};return await j({url:r,params:o,branch:[l,i],status:e,error:t,route:null})}function F(e,a){if(G(e))return;const n=decodeURI(e.pathname.slice(t.length)||"/");for(const t of ae){const o=t.exec(n);if(o){const n=new URL(e.origin+D(e.pathname,r)+e.search+e.hash);return{id:n.pathname+n.search,invalidating:a,route:t,params:V(o),url:n}}}}function G(e){return e.origin!==location.origin||!e.pathname.startsWith(t)}async function K({url:e,scroll:t,keepfocus:r,redirect_chain:a,details:n,type:o,delta:l,nav_token:c,accepted:d,blocked:p}){var f,h,g,_;let v=!1;const y=F(e,!1),w={from:pe("from",{params:i.params,routeId:null!=(h=null==(f=i.route)?void 0:f.id)?h:null,url:i.url}),to:pe("to",{params:null!=(g=null==y?void 0:y.params)?g:null,routeId:null!=(_=null==y?void 0:y.route.id)?_:null,url:e}),type:o};void 0!==l&&(w.delta=l);const b={...w,cancel:()=>{v=!0}};s.before_navigate.forEach((e=>e(b))),v?p():(le(m),d(),u&&A.navigating.set(w),await k(y,e,a,{scroll:t,keepfocus:r,details:n},c,(()=>{s.after_navigate.forEach((e=>e(w))),A.navigating.set(null)})))}async function W(e,t,r,a){return e.origin!==location.origin||e.pathname!==location.pathname||c?await z(e):await M({status:a,error:r,url:e,routeId:t})}function z(e){return location.href=e.href,new Promise((()=>{}))}return{after_navigate:e=>{f((()=>(s.after_navigate.push(e),()=>{const t=s.after_navigate.indexOf(e);s.after_navigate.splice(t,1)})))},before_navigate:e=>{f((()=>(s.before_navigate.push(e),()=>{const t=s.before_navigate.indexOf(e);s.before_navigate.splice(t,1)})))},disable_scroll_handling:()=>{!p&&u||(d=!1)},goto:(e,t={})=>$(e,t,[]),invalidate:e=>{if(void 0===e)throw new Error("`invalidate()` (with no arguments) has been replaced by `invalidateAll()`");if("function"==typeof e)n.push(e);else{const{href:t}=new URL(e,location.href);n.push((e=>e.href===t))}return b()},invalidateAll:()=>(h=!0,b()),prefetch:async e=>{const t=new URL(e,I(document));await E(t)},prefetch_routes:async e=>{const t=(e?ae.filter((t=>e.some((e=>t.exec(e))))):ae).map((e=>Promise.all([...e.layouts,e.leaf].map((e=>null==e?void 0:e[1]())))));await Promise.all(t)},apply_action:async e=>{if("error"===e.type){const t=new URL(location.href),{branch:r,route:a}=i;if(!a)return;const n=await C(i.branch.length,r,a.errors);if(n){const o=await j({url:t,params:i.params,branch:r.slice(0,n.idx).concat(n.node),status:500,error:e.error,route:a});i=o.state;const s=()=>{};l.$set(o.props),s()}}else if("redirect"===e.type)$(e.location,{},[]);else{const t={form:e.data,page:{..._,form:e.data,status:e.status}},r=()=>{};l.$set(t),r()}},_start_router:()=>{history.scrollRestoration="manual",addEventListener("beforeunload",(e=>{var t,r;let a=!1;const n={from:pe("from",{params:i.params,routeId:null!=(r=null==(t=i.route)?void 0:t.id)?r:null,url:i.url}),to:null,type:"unload",cancel:()=>a=!0};s.before_navigate.forEach((e=>e(n))),a?(e.preventDefault(),e.returnValue=""):history.scrollRestoration="auto"})),addEventListener("visibilitychange",(()=>{if("hidden"===document.visibilityState){le(m);try{sessionStorage["sveltekit:scroll"]=JSON.stringify(se)}catch{}}}));const e=e=>{const{url:t,options:r}=L(e);if(t&&r.prefetch){if(G(t))return;E(t)}};let t;addEventListener("touchstart",e),addEventListener("mousemove",(e=>{clearTimeout(t),t=setTimeout((()=>{var t;null==(t=e.target)||t.dispatchEvent(new CustomEvent("sveltekit:trigger_prefetch",{bubbles:!0}))}),20)})),addEventListener("sveltekit:trigger_prefetch",e),addEventListener("click",(e=>{if(e.button||1!==e.which)return;if(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return;if(e.defaultPrevented)return;const{a:t,url:r,options:a}=L(e);if(!t||!r)return;const n=t instanceof SVGAElement;if(!n&&r.protocol!==location.protocol&&"https:"!==r.protocol&&"http:"!==r.protocol)return;const o=(t.getAttribute("rel")||"").split(/\s+/);if(t.hasAttribute("download")||o.includes("external")||a.reload)return;if(n?t.target.baseVal:t.target)return;const[s,l]=r.href.split("#");if(void 0!==l&&s===location.href.split("#")[0])return w=!0,le(m),i.url=r,A.page.set({..._,url:r}),void A.page.notify();K({url:r,scroll:a.noscroll?P():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:r.href===location.href},accepted:()=>e.preventDefault(),blocked:()=>e.preventDefault(),type:"link"})})),addEventListener("popstate",(e=>{if(e.state){if(e.state[re]===m)return;const t=e.state[re]-m;K({url:new URL(location.href),scroll:se[e.state[re]],keepfocus:!1,redirect_chain:[],details:null,accepted:()=>{m=e.state[re]},blocked:()=>{history.go(-t)},type:"popstate",delta:t})}})),addEventListener("hashchange",(()=>{w&&(w=!1,history.replaceState({...history.state,[re]:++m},"",location.href))}));for(const r of document.querySelectorAll("link"))"icon"===r.rel&&(r.href=r.href);addEventListener("pageshow",(e=>{e.persisted&&A.navigating.set(null)}))},_hydrate:async({status:e,error:t,node_ids:r,params:a,routeId:n,data:o,form:s})=>{var l;c=!0;const i=new URL(location.href);let u;try{const c=r.map((async(e,t)=>{const r=o[t];return S({loader:Y[e],url:i,params:a,routeId:n,parent:async()=>{const e={};for(let r=0;r<t;r+=1)Object.assign(e,(await c[r]).data);return e},server_data_node:T(r)})}));u=await j({url:i,params:a,branch:await Promise.all(c),status:e,error:t,form:s,route:null!=(l=ae.find((e=>e.id===n)))?l:null})}catch(d){if(d instanceof te)return void(await z(new URL(d.location,location.href)));u=await M({status:d instanceof ee?d.status:500,error:ue(d,{url:i,params:a,routeId:n}),url:i,routeId:n})}R(u)}}}async function ce(e,t){const r=new URL(e);r.pathname=e.pathname.replace(/\/$/,"")+"/__data.json";const a=await B(r.href,{headers:{"x-sveltekit-invalidated":t.map((e=>e?"1":"")).join(",")}}),n=await a.text();if(!a.ok)throw new Error(JSON.parse(n));return function(e){const t=JSON.parse(e);if("number"==typeof t)return n(t);const r=t,a=Array(r.length);function n(e){if(-1===e)return;if(-3===e)return NaN;if(-4===e)return 1/0;if(-5===e)return-1/0;if(-6===e)return-0;if(e in a)return a[e];const t=r[e];if(t&&"object"==typeof t)if(Array.isArray(t))if("string"==typeof t[0])switch(t[0]){case"Date":a[e]=new Date(t[1]);break;case"Set":const r=new Set;a[e]=r;for(let e=1;e<t.length;e+=1)r.add(n(t[e]));break;case"Map":const o=new Map;a[e]=o;for(let e=1;e<t.length;e+=2)o.set(n(t[e]),n(t[e+1]));break;case"RegExp":a[e]=new RegExp(t[1],t[2]);break;case"Object":a[e]=Object(t[1]);break;case"BigInt":a[e]=BigInt(t[1]);break;case"null":const s=Object.create(null);a[e]=s;for(let e=1;e<t.length;e+=2)s[t[e]]=n(t[e+1])}else{const r=new Array(t.length);a[e]=r;for(let e=0;e<t.length;e+=1){const a=t[e];-2!==a&&(r[e]=n(a))}}else{const r={};a[e]=r;for(const e in t){const a=t[e];r[e]=n(a)}}else a[e]=t;return a[e]}return n(0)}(n)}function ue(e,t){var r;return e instanceof ee?e.body:null!=(r=Z({error:e,event:t}))?r:{message:null!=t.routeId?"Internal Error":"Not Found"}}const de=["hash","href","host","hostname","origin","pathname","port","protocol","search","searchParams","toString","toJSON"];function pe(e,t){for(const r of de)Object.defineProperty(t,r,{get(){throw new Error(`The navigation shape changed - ${e}.${r} should now be ${e}.url.${r}`)},enumerable:!1});return t}async function fe({env:e,hydrate:t,paths:r,target:a,trailing_slash:n}){T(r);const o=ie({target:a,base:r.base,trailing_slash:n});S({client:o}),t?await o._hydrate(t):o.goto(location.href,{replaceState:!0}),o._start_router()}export{fe as start};
