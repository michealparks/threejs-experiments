import{n as e,s as t,S as r,i as s,a,e as n,c as o,b as i,g as l,t as c,d as u,f as d,h as f,j as p,k as h,o as m,l as g,m as _,p as v,q as w,r as $,u as b,v as y,w as E,x as R,y as I,z as L,A as x,B as A,C as k,D as j,E as O}from"./chunks/index-32ca3be3.js";import{_ as P}from"./chunks/preload-helper-37db6c57.js";const T=[];function D(r,s=e){let a;const n=new Set;function o(e){if(t(r,e)&&(r=e,a)){const e=!T.length;for(const t of n)t[1](),T.push(t,r);if(e){for(let e=0;e<T.length;e+=2)T[e][0](T[e+1]);T.length=0}}}return{set:o,update:function(e){o(e(r))},subscribe:function(t,i=e){const l=[t,i];return n.add(l),1===n.size&&(a=s(o)||e),t(r),()=>{n.delete(l),0===n.size&&(a(),a=null)}}}}let S="",V="";function U(e){let t,r,s;const a=[e[1]||{}];var o=e[0][0];function p(e){let t={};for(let r=0;r<a.length;r+=1)t=j(t,a[r]);return{props:t}}return o&&(t=new o(p())),{c(){t&&R(t.$$.fragment),r=n()},l(e){t&&I(t.$$.fragment,e),r=n()},m(e,a){t&&L(t,e,a),i(e,r,a),s=!0},p(e,s){const n=2&s?x(a,[A(e[1]||{})]):{};if(o!==(o=e[0][0])){if(t){l();const e=t;c(e.$$.fragment,1,0,(()=>{k(e,1)})),u()}o?(t=new o(p()),R(t.$$.fragment),d(t.$$.fragment,1),L(t,r.parentNode,r)):t=null}else o&&t.$set(n)},i(e){s||(t&&d(t.$$.fragment,e),s=!0)},o(e){t&&c(t.$$.fragment,e),s=!1},d(e){e&&f(r),t&&k(t,e)}}}function N(e){let t,r,s;const a=[e[1]||{}];var o=e[0][0];function p(e){let t={$$slots:{default:[J]},$$scope:{ctx:e}};for(let r=0;r<a.length;r+=1)t=j(t,a[r]);return{props:t}}return o&&(t=new o(p(e))),{c(){t&&R(t.$$.fragment),r=n()},l(e){t&&I(t.$$.fragment,e),r=n()},m(e,a){t&&L(t,e,a),i(e,r,a),s=!0},p(e,s){const n=2&s?x(a,[A(e[1]||{})]):{};if(525&s&&(n.$$scope={dirty:s,ctx:e}),o!==(o=e[0][0])){if(t){l();const e=t;c(e.$$.fragment,1,0,(()=>{k(e,1)})),u()}o?(t=new o(p(e)),R(t.$$.fragment),d(t.$$.fragment,1),L(t,r.parentNode,r)):t=null}else o&&t.$set(n)},i(e){s||(t&&d(t.$$.fragment,e),s=!0)},o(e){t&&c(t.$$.fragment,e),s=!1},d(e){e&&f(r),t&&k(t,e)}}}function C(e){let t,r,s;const a=[e[2]||{}];var o=e[0][1];function p(e){let t={};for(let r=0;r<a.length;r+=1)t=j(t,a[r]);return{props:t}}return o&&(t=new o(p())),{c(){t&&R(t.$$.fragment),r=n()},l(e){t&&I(t.$$.fragment,e),r=n()},m(e,a){t&&L(t,e,a),i(e,r,a),s=!0},p(e,s){const n=4&s?x(a,[A(e[2]||{})]):{};if(o!==(o=e[0][1])){if(t){l();const e=t;c(e.$$.fragment,1,0,(()=>{k(e,1)})),u()}o?(t=new o(p()),R(t.$$.fragment),d(t.$$.fragment,1),L(t,r.parentNode,r)):t=null}else o&&t.$set(n)},i(e){s||(t&&d(t.$$.fragment,e),s=!0)},o(e){t&&c(t.$$.fragment,e),s=!1},d(e){e&&f(r),t&&k(t,e)}}}function B(e){let t,r,s;const a=[e[2]||{}];var o=e[0][1];function p(e){let t={$$slots:{default:[q]},$$scope:{ctx:e}};for(let r=0;r<a.length;r+=1)t=j(t,a[r]);return{props:t}}return o&&(t=new o(p(e))),{c(){t&&R(t.$$.fragment),r=n()},l(e){t&&I(t.$$.fragment,e),r=n()},m(e,a){t&&L(t,e,a),i(e,r,a),s=!0},p(e,s){const n=4&s?x(a,[A(e[2]||{})]):{};if(521&s&&(n.$$scope={dirty:s,ctx:e}),o!==(o=e[0][1])){if(t){l();const e=t;c(e.$$.fragment,1,0,(()=>{k(e,1)})),u()}o?(t=new o(p(e)),R(t.$$.fragment),d(t.$$.fragment,1),L(t,r.parentNode,r)):t=null}else o&&t.$set(n)},i(e){s||(t&&d(t.$$.fragment,e),s=!0)},o(e){t&&c(t.$$.fragment,e),s=!1},d(e){e&&f(r),t&&k(t,e)}}}function q(e){let t,r,s;const a=[e[3]||{}];var o=e[0][2];function p(e){let t={};for(let r=0;r<a.length;r+=1)t=j(t,a[r]);return{props:t}}return o&&(t=new o(p())),{c(){t&&R(t.$$.fragment),r=n()},l(e){t&&I(t.$$.fragment,e),r=n()},m(e,a){t&&L(t,e,a),i(e,r,a),s=!0},p(e,s){const n=8&s?x(a,[A(e[3]||{})]):{};if(o!==(o=e[0][2])){if(t){l();const e=t;c(e.$$.fragment,1,0,(()=>{k(e,1)})),u()}o?(t=new o(p()),R(t.$$.fragment),d(t.$$.fragment,1),L(t,r.parentNode,r)):t=null}else o&&t.$set(n)},i(e){s||(t&&d(t.$$.fragment,e),s=!0)},o(e){t&&c(t.$$.fragment,e),s=!1},d(e){e&&f(r),t&&k(t,e)}}}function J(e){let t,r,s,a;const o=[B,C],p=[];function h(e,t){return e[0][2]?0:1}return t=h(e),r=p[t]=o[t](e),{c(){r.c(),s=n()},l(e){r.l(e),s=n()},m(e,r){p[t].m(e,r),i(e,s,r),a=!0},p(e,a){let n=t;t=h(e),t===n?p[t].p(e,a):(l(),c(p[n],1,1,(()=>{p[n]=null})),u(),r=p[t],r?r.p(e,a):(r=p[t]=o[t](e),r.c()),d(r,1),r.m(s.parentNode,s))},i(e){a||(d(r),a=!0)},o(e){c(r),a=!1},d(e){p[t].d(e),e&&f(s)}}}function z(e){let t,r=e[5]&&F(e);return{c(){t=g("div"),r&&r.c(),this.h()},l(e){t=_(e,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,style:!0});var s=v(t);r&&r.l(s),s.forEach(f),this.h()},h(){w(t,"id","svelte-announcer"),w(t,"aria-live","assertive"),w(t,"aria-atomic","true"),$(t,"position","absolute"),$(t,"left","0"),$(t,"top","0"),$(t,"clip","rect(0 0 0 0)"),$(t,"clip-path","inset(50%)"),$(t,"overflow","hidden"),$(t,"white-space","nowrap"),$(t,"width","1px"),$(t,"height","1px")},m(e,s){i(e,t,s),r&&r.m(t,null)},p(e,s){e[5]?r?r.p(e,s):(r=F(e),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(e){e&&f(t),r&&r.d()}}}function F(e){let t;return{c(){t=b(e[6])},l(r){t=y(r,e[6])},m(e,r){i(e,t,r)},p(e,r){64&r&&E(t,e[6])},d(e){e&&f(t)}}}function K(e){let t,r,s,p,h;const m=[N,U],g=[];function _(e,t){return e[0][1]?0:1}t=_(e),r=g[t]=m[t](e);let v=e[4]&&z(e);return{c(){r.c(),s=a(),v&&v.c(),p=n()},l(e){r.l(e),s=o(e),v&&v.l(e),p=n()},m(e,r){g[t].m(e,r),i(e,s,r),v&&v.m(e,r),i(e,p,r),h=!0},p(e,[a]){let n=t;t=_(e),t===n?g[t].p(e,a):(l(),c(g[n],1,1,(()=>{g[n]=null})),u(),r=g[t],r?r.p(e,a):(r=g[t]=m[t](e),r.c()),d(r,1),r.m(s.parentNode,s)),e[4]?v?v.p(e,a):(v=z(e),v.c(),v.m(p.parentNode,p)):v&&(v.d(1),v=null)},i(e){h||(d(r),h=!0)},o(e){c(r),h=!1},d(e){g[t].d(e),e&&f(s),v&&v.d(e),e&&f(p)}}}function W(e,t,r){let{stores:s}=t,{page:a}=t,{components:n}=t,{props_0:o=null}=t,{props_1:i=null}=t,{props_2:l=null}=t;p("__svelte__",s),h(s.page.notify);let c=!1,u=!1,d=null;return m((()=>{const e=s.page.subscribe((()=>{c&&(r(5,u=!0),r(6,d=document.title||"untitled page"))}));return r(4,c=!0),e})),e.$$set=e=>{"stores"in e&&r(7,s=e.stores),"page"in e&&r(8,a=e.page),"components"in e&&r(0,n=e.components),"props_0"in e&&r(1,o=e.props_0),"props_1"in e&&r(2,i=e.props_1),"props_2"in e&&r(3,l=e.props_2)},e.$$.update=()=>{384&e.$$.dirty&&s.page.set(a)},[n,o,i,l,c,u,d,s,a]}class G extends r{constructor(e){super(),s(this,e,W,K,t,{stores:7,page:8,components:0,props_0:1,props_1:2,props_2:3})}}const M=[()=>P((()=>import("./pages/__layout.svelte-cad6ad75.js")),["_app/immutable/pages/__layout.svelte-cad6ad75.js","_app/immutable/assets/__layout-a8e361b1.css","_app/immutable/chunks/preload-helper-37db6c57.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/scene-cbea7370.js","_app/immutable/assets/scene-65d42dc7.css","_app/immutable/chunks/camera-86d9f305.js"]),()=>P((()=>import("./error.svelte-2972811d.js")),["_app/immutable/error.svelte-2972811d.js","_app/immutable/chunks/index-32ca3be3.js"]),()=>P((()=>import("./pages/alley.svelte-521409b2.js")),["_app/immutable/pages/alley.svelte-521409b2.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/camera-86d9f305.js","_app/immutable/chunks/lights-53de5191.js"]),()=>P((()=>import("./pages/baked.svelte-664f8b61.js")),["_app/immutable/pages/baked.svelte-664f8b61.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/camera-86d9f305.js","_app/immutable/chunks/lights-53de5191.js"]),()=>P((()=>import("./pages/campfire.svelte-66f98ad2.js")),["_app/immutable/pages/campfire.svelte-66f98ad2.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/camera-86d9f305.js","_app/immutable/chunks/lights-53de5191.js","_app/immutable/chunks/util-343fee83.js","_app/immutable/chunks/util-three-232ac56e.js"]),()=>P((()=>import("./pages/galaxy-particles.svelte-8bae097d.js")),["_app/immutable/pages/galaxy-particles.svelte-8bae097d.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/scene-cbea7370.js","_app/immutable/assets/scene-65d42dc7.css","_app/immutable/chunks/camera-86d9f305.js"]),()=>P((()=>import("./pages/index.svelte-8b19fa5d.js")),["_app/immutable/pages/index.svelte-8b19fa5d.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/pages/portal.svelte-b904ed9a.js","_app/immutable/chunks/camera-86d9f305.js","_app/immutable/chunks/lights-53de5191.js"]),()=>P((()=>import("./pages/instanced.svelte-e68d0604.js")),["_app/immutable/pages/instanced.svelte-e68d0604.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/camera-86d9f305.js","_app/immutable/chunks/lights-53de5191.js"]),()=>P((()=>import("./pages/matrix.svelte-d5d536d4.js")),["_app/immutable/pages/matrix.svelte-d5d536d4.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/camera-86d9f305.js","_app/immutable/chunks/lights-53de5191.js","_app/immutable/chunks/constants-b8ef71ab.js","_app/immutable/chunks/util-three-232ac56e.js"]),()=>P((()=>import("./pages/models.svelte-91bb6a50.js")),["_app/immutable/pages/models.svelte-91bb6a50.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/camera-86d9f305.js","_app/immutable/chunks/lights-53de5191.js"]),()=>P((()=>import("./pages/particles.svelte-b60df5d0.js")),["_app/immutable/pages/particles.svelte-b60df5d0.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/camera-86d9f305.js","_app/immutable/chunks/lights-53de5191.js","_app/immutable/chunks/util-three-232ac56e.js"]),()=>P((()=>import("./pages/planets.svelte-8bfa838d.js")),["_app/immutable/pages/planets.svelte-8bfa838d.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/camera-86d9f305.js","_app/immutable/chunks/lights-53de5191.js","_app/immutable/chunks/constants-b8ef71ab.js"]),()=>P((()=>import("./pages/portal.svelte-b904ed9a.js")),["_app/immutable/pages/portal.svelte-b904ed9a.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/camera-86d9f305.js","_app/immutable/chunks/lights-53de5191.js"]),()=>P((()=>import("./pages/postprocessing.svelte-ad587b01.js")),["_app/immutable/pages/postprocessing.svelte-ad587b01.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/camera-86d9f305.js","_app/immutable/chunks/util-three-232ac56e.js"]),()=>P((()=>import("./pages/raycaster.svelte-f6a74829.js")),["_app/immutable/pages/raycaster.svelte-f6a74829.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/camera-86d9f305.js","_app/immutable/chunks/lights-53de5191.js","_app/immutable/chunks/util-three-232ac56e.js"]),()=>P((()=>import("./pages/room.svelte-829e92f7.js")),["_app/immutable/pages/room.svelte-829e92f7.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/camera-86d9f305.js","_app/immutable/chunks/lights-53de5191.js"]),()=>P((()=>import("./pages/sea.svelte-0d390aff.js")),["_app/immutable/pages/sea.svelte-0d390aff.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/camera-86d9f305.js","_app/immutable/chunks/scene-cbea7370.js","_app/immutable/assets/scene-65d42dc7.css"]),()=>P((()=>import("./pages/shader-patterns.svelte-e870d657.js")),["_app/immutable/pages/shader-patterns.svelte-e870d657.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/camera-86d9f305.js"]),()=>P((()=>import("./pages/shader.svelte-cc424d68.js")),["_app/immutable/pages/shader.svelte-cc424d68.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/scene-cbea7370.js","_app/immutable/assets/scene-65d42dc7.css","_app/immutable/chunks/camera-86d9f305.js","_app/immutable/chunks/lights-53de5191.js"]),()=>P((()=>import("./pages/shaders.svelte-9a03f409.js")),["_app/immutable/pages/shaders.svelte-9a03f409.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/camera-86d9f305.js"]),()=>P((()=>import("./pages/sphere-particles.svelte-1b02c93c.js")),["_app/immutable/pages/sphere-particles.svelte-1b02c93c.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/scene-cbea7370.js","_app/immutable/assets/scene-65d42dc7.css","_app/immutable/chunks/camera-86d9f305.js","_app/immutable/chunks/util-343fee83.js"]),()=>P((()=>import("./pages/sushi.svelte-b465abf2.js")),["_app/immutable/pages/sushi.svelte-b465abf2.js","_app/immutable/chunks/index-32ca3be3.js"]),()=>P((()=>import("./pages/terrain.svelte-36830b45.js")),["_app/immutable/pages/terrain.svelte-36830b45.js","_app/immutable/chunks/index-32ca3be3.js","_app/immutable/chunks/scene-cbea7370.js","_app/immutable/assets/scene-65d42dc7.css","_app/immutable/chunks/camera-86d9f305.js","_app/immutable/chunks/lights-53de5191.js"])];function Y(e){}function H(e){return e instanceof Error||e&&e.name&&e.message?e:new Error(JSON.stringify(e))}function X(e){if(!e)return{};if(e.fallthrough)throw new Error("fallthrough is no longer supported. Use matchers instead: https://kit.svelte.dev/docs/routing#advanced-routing-matching");if("maxage"in e)throw new Error("maxage should be replaced with cache: { maxage }");const t=e.status&&e.status>=400&&e.status<=599&&!e.redirect;if(e.error||t){const r=e.status;if(!e.error&&t)return{status:r||500,error:new Error(`${r}`)};const s="string"==typeof e.error?new Error(e.error):e.error;return s instanceof Error?!r||r<400||r>599?(console.warn('"error" returned from load() without a valid status code â€” defaulting to 500'),{status:500,error:s}):{status:r,error:s}:{status:500,error:new Error(`"error" property returned from load() must be a string or instance of Error, received type "${typeof s}"`)}}if(e.redirect){if(!e.status||3!==Math.floor(e.status/100))throw new Error('"redirect" property returned from load() must be accompanied by a 3xx status code');if("string"!=typeof e.redirect)throw new Error('"redirect" property returned from load() must be a string')}if(e.dependencies&&(!Array.isArray(e.dependencies)||e.dependencies.some((e=>"string"!=typeof e))))throw new Error('"dependencies" property returned from load() must be of type string[]');if(e.context)throw new Error('You are returning "context" from a load function. "context" was renamed to "stuff", please adjust your code accordingly.');return e}function Z(e,t){return"/"===e||"ignore"===t?e:"never"===t?e.endsWith("/")?e.slice(0,-1):e:"always"!==t||e.endsWith("/")?e:e+"/"}function Q(e){for(const t in e)e[t]=e[t].replace(/%23/g,"#").replace(/%3[Bb]/g,";").replace(/%2[Cc]/g,",").replace(/%2[Ff]/g,"/").replace(/%3[Ff]/g,"?").replace(/%3[Aa]/g,":").replace(/%40/g,"@").replace(/%26/g,"&").replace(/%3[Dd]/g,"=").replace(/%2[Bb]/g,"+").replace(/%24/g,"$");return e}class ee extends URL{get hash(){throw new Error("url.hash is inaccessible from load. Consider accessing hash from the page store within the script tag of your component.")}}function te(e){let t=e.baseURI;if(!t){const r=e.getElementsByTagName("base");t=r.length?r[0].href:e.URL}return t}function re(){return{x:pageXOffset,y:pageYOffset}}function se(e){return e.composedPath().find((e=>e instanceof Node&&"A"===e.nodeName.toUpperCase()))}function ae(e){return e instanceof SVGAElement?new URL(e.href.baseVal,document.baseURI):new URL(e.href)}function ne(e){const t=D(e);let r=!0;return{notify:function(){r=!0,t.update((e=>e))},set:function(e){r=!1,t.set(e)},subscribe:function(e){let s;return t.subscribe((t=>{(void 0===s||r&&t!==s)&&e(s=t)}))}}}function oe(){const{set:e,subscribe:t}=D(!1);let r;return{subscribe:t,check:async function(){clearTimeout(r);const t=await fetch(`${V}/_app/version.json`,{headers:{pragma:"no-cache","cache-control":"no-cache"}});if(t.ok){const{version:s}=await t.json(),a="1660426711922"!==s;return a&&(e(!0),clearTimeout(r)),a}throw new Error(`Version check failed: ${t.status}`)}}}const ie=window.fetch;const le=/^(\.\.\.)?(\w+)(?:=(\w+))?$/;const ce="sveltekit:index",ue=function(e,t,r){const s=Object.entries(t).map((([t,[s,a,n]])=>{const{pattern:o,names:i,types:l}=function(e){const t=[],r=[];let s=!0;return{pattern:""===e?/^\/$/:new RegExp(`^${decodeURIComponent(e).split(/(?:@[a-zA-Z0-9_-]+)?(?:\/|$)/).map(((e,a,n)=>{const o=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(e);if(o)return t.push(o[1]),r.push(o[2]),"(?:/(.*))?";const i=a===n.length-1;return e&&"/"+e.split(/\[(.+?)\]/).map(((e,a)=>{if(a%2){const s=le.exec(e);if(!s)throw new Error(`Invalid param: ${e}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,a,n,o]=s;return t.push(n),r.push(o),a?"(.*?)":"([^/]+?)"}return i&&e.includes(".")&&(s=!1),e.normalize().replace(/%5[Bb]/g,"[").replace(/%5[Dd]/g,"]").replace(/#/g,"%23").replace(/\?/g,"%3F").replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})).join("")})).join("")}${s?"/?":""}$`),names:t,types:r}}(t);return{id:t,exec:e=>{const t=o.exec(e);if(t)return function(e,t,r,s){const a={};for(let n=0;n<t.length;n+=1){const o=t[n],i=r[n],l=e[n+1]||"";if(i){const e=s[i];if(!e)throw new Error(`Missing "${i}" param matcher`);if(!e(l))return}a[o]=l}return a}(t,i,l,r)},a:s.map((t=>e[t])),b:a.map((t=>e[t])),has_shadow:!!n}}));return s}(M,{"":[[0,6],[1]],alley:[[0,2],[1]],baked:[[0,3],[1]],campfire:[[0,4],[1]],"galaxy-particles":[[0,5],[1]],instanced:[[0,7],[1]],matrix:[[0,8],[1]],models:[[0,9],[1]],particles:[[0,10],[1]],planets:[[0,11],[1]],portal:[[0,12],[1]],postprocessing:[[0,13],[1]],raycaster:[[0,14],[1]],room:[[0,15],[1]],sea:[[0,16],[1]],"shader-patterns":[[0,17],[1]],shader:[[0,18],[1]],shaders:[[0,19],[1]],"sphere-particles":[[0,20],[1]],sushi:[[0,21],[1]],terrain:[[0,22],[1]]},{}),de=M[0](),fe=M[1](),pe={};let he={};try{he=JSON.parse(sessionStorage["sveltekit:scroll"])}catch{}function me(e){he[e]=re()}function ge({target:e,session:t,base:r,trailing_slash:s}){var a;const n=new Map,o=[],i={url:ne({}),page:ne({}),navigating:D(null),session:D(t),updated:oe()},l={id:null,promise:null},c={before_navigate:[],after_navigate:[]};let u,d,f={branch:[],error:null,session_id:0,stuff:pe,url:null},p=!1,h=!0,g=!1,_=1,v=null,w=!1;i.session.subscribe((async e=>{if(d=e,!w)return;_+=1;f.branch.some((e=>null==e?void 0:e.uses.session))&&A(new URL(location.href),[],!0)})),w=!0;let $=!0,b=null==(a=history.state)?void 0:a[ce];b||(b=Date.now(),history.replaceState({...history.state,[ce]:b},"",location.href));const y=he[b];y&&(history.scrollRestoration="manual",scrollTo(y.x,y.y));let E,R,I=!1;async function L(e,{noscroll:t=!1,replaceState:r=!1,keepfocus:s=!1,state:a={}},n){if("string"==typeof e&&(e=new URL(e,te(document))),$)return U({url:e,scroll:t?re():null,keepfocus:s,redirect_chain:n,details:{state:a,replaceState:r},accepted:()=>{},blocked:()=>{}});await N(e)}async function x(e){const t=V(e);if(!t)throw new Error("Attempted to prefetch a URL that does not belong to this app");return l.promise=T(t,!1),l.id=t.id,l.promise}async function A(e,t,r,s,a){var n,c;const d=V(e),m=R={};let _=d&&await T(d,r);if(_||e.origin!==location.origin||e.pathname!==location.pathname||(_=await S({status:404,error:new Error(`Not found: ${e.pathname}`),url:e,routeId:null})),!_)return await N(e),!1;if(e=(null==d?void 0:d.url)||e,R!==m)return!1;if(o.length=0,_.redirect){if(!(t.length>10||t.includes(e.pathname)))return $?L(new URL(_.redirect,e).href,{},[...t,e.pathname]):await N(new URL(_.redirect,location.href)),!1;_=await S({status:500,error:new Error("Redirect loop"),url:e,routeId:null})}else if((null==(c=null==(n=_.props)?void 0:n.page)?void 0:c.status)>=400){await i.updated.check()&&await N(e)}if(g=!0,s&&s.details){const{details:t}=s,r=t.replaceState?0:1;t.state[ce]=b+=r,history[t.replaceState?"replaceState":"pushState"](t.state,"",e)}if(p?(f=_.state,_.props.page&&(_.props.page.url=e),u.$set(_.props)):k(_),s){const{scroll:t,keepfocus:r}=s;if(!r){const e=document.body,t=e.getAttribute("tabindex");e.tabIndex=-1,e.focus({preventScroll:!0}),setTimeout((()=>{var e;null==(e=getSelection())||e.removeAllRanges()})),null!==t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}if(await O(),h){const r=e.hash&&document.getElementById(e.hash.slice(1));t?scrollTo(t.x,t.y):r?r.scrollIntoView():scrollTo(0,0)}}else await O();l.promise=null,l.id=null,h=!0,_.props.page&&(E=_.props.page);const v=_.state.branch[_.state.branch.length-1];$=!1!==(null==v?void 0:v.module.router),a&&a(),g=!1}function k(t){f=t.state;const r=document.querySelector("style[data-sveltekit]");if(r&&r.remove(),E=t.props.page,u=new G({target:e,props:{...t.props,stores:i},hydrate:!0}),$){const e={from:null,to:new URL(location.href)};c.after_navigate.forEach((t=>t(e)))}p=!0}async function j({url:e,params:t,stuff:r,branch:s,status:a,error:o,routeId:l}){var c,u;const d=s.filter(Boolean),p=d.find((e=>{var t;return null==(t=e.loaded)?void 0:t.redirect})),h={redirect:null==(c=null==p?void 0:p.loaded)?void 0:c.redirect,state:{url:e,params:t,branch:s,error:o,stuff:r,session_id:_},props:{components:d.map((e=>e.module.default))}};for(let n=0;n<d.length;n+=1)if(!f.branch.some((e=>e===d[n]))){const e=d[n].loaded;h.props[`props_${n}`]=e?await e.props:null}if(!f.url||e.href!==f.url.href||f.error!==o||f.stuff!==r){h.props.page={error:o,params:t,routeId:l,status:a,stuff:r,url:e};const s=(e,t)=>{Object.defineProperty(h.props.page,e,{get:()=>{throw new Error(`$page.${e} has been replaced by $page.url.${t}`)}})};s("origin","origin"),s("path","pathname"),s("query","searchParams")}const m=d[d.length-1],g=null==(u=null==m?void 0:m.loaded)?void 0:u.cache;if(g){const t=e.pathname+e.search;let r=!1;const s=()=>{n.get(t)===h&&n.delete(t),o(),clearTimeout(a)},a=setTimeout(s,1e3*g.maxage),o=i.session.subscribe((()=>{r&&s()}));r=!0,n.set(t,h)}return h}async function P({status:e,error:t,module:r,url:s,params:a,stuff:n,props:o,routeId:i}){const l={module:r,uses:{params:new Set,url:!1,session:!1,stuff:!1,dependencies:new Set},loaded:null,stuff:n};function c(e){const{href:t}=new URL(e,s);l.uses.dependencies.add(t)}o&&l.uses.dependencies.add(s.href);const u={};for(const d in a)Object.defineProperty(u,d,{get:()=>(l.uses.params.add(d),a[d]),enumerable:!0});const f=d,h=new ee(s);if(r.load){const a={routeId:i,params:u,props:o||{},get url(){return l.uses.url=!0,h},get session(){return l.uses.session=!0,f},get stuff(){return l.uses.stuff=!0,{...n}},async fetch(e,t){let r;"string"==typeof e?r=e:(r=e.url,t={body:"GET"===e.method||"HEAD"===e.method?void 0:await e.blob(),cache:e.cache,credentials:e.credentials,headers:e.headers,integrity:e.integrity,keepalive:e.keepalive,method:e.method,mode:e.mode,redirect:e.redirect,referrer:e.referrer,referrerPolicy:e.referrerPolicy,signal:e.signal,...t});const a=new URL(r,s).href;return c(a),p?ie(a,t):function(e,t){let r=`script[sveltekit\\:data-type="data"][sveltekit\\:data-url=${JSON.stringify("string"==typeof e?e:e.url)}]`;t&&"string"==typeof t.body&&(r+=`[sveltekit\\:data-body="${function(e){let t=5381,r=e.length;if("string"==typeof e)for(;r;)t=33*t^e.charCodeAt(--r);else for(;r;)t=33*t^e[--r];return(t>>>0).toString(36)}(t.body)}"]`);const s=document.querySelector(r);if(s&&s.textContent){const{body:e,...t}=JSON.parse(s.textContent);return Promise.resolve(new Response(e,t))}return ie(e,t)}(r,t)},status:null!=e?e:null,error:null!=t?t:null};l.loaded=X(await r.load.call(null,a)),l.loaded.stuff&&(l.stuff=l.loaded.stuff),l.loaded.dependencies&&l.loaded.dependencies.forEach(c)}else o&&(l.loaded=X({props:o}));return l}async function T({id:e,url:t,params:r,route:s},a){var i,c,u,d;if(l.id===e&&l.promise)return l.promise;if(!a){const t=n.get(e);if(t)return t}const{a:p,b:h,has_shadow:m}=s,g=f.url&&{url:e!==f.url.pathname+f.url.search,params:Object.keys(r).filter((e=>f.params[e]!==r[e])),session:_!==f.session_id};let v=[],w=pe,$=!1,b=200,y=null;p.forEach((e=>e().catch((()=>{}))));e:for(let n=0;n<p.length;n+=1){let e;try{if(!p[n])continue;const a=await p[n](),l=f.branch[n];if(!l||a!==l.module||g.url&&l.uses.url||g.params.some((e=>l.uses.params.has(e)))||g.session&&l.uses.session||Array.from(l.uses.dependencies).some((e=>o.some((t=>t(e)))))||$&&l.uses.stuff){let o={};const l=m&&n===p.length-1;if(l){const e=await ie(`${t.pathname}${t.pathname.endsWith("/")?"":"/"}__data.json${t.search}`,{headers:{"x-sveltekit-load":"true"}});if(e.ok){const t=e.headers.get("x-sveltekit-location");if(t)return{redirect:t,props:{},state:f};o=204===e.status?{}:await e.json()}else{b=e.status;try{y=await e.json()}catch(E){y=new Error("Failed to load data")}}}if(y||(e=await P({module:a,url:t,params:r,props:o,stuff:w,routeId:s.id})),e&&(l&&(e.uses.url=!0),e.loaded)){if(e.loaded.error&&(b=null!=(i=e.loaded.status)?i:500,y=e.loaded.error),e.loaded.redirect)return{redirect:e.loaded.redirect,props:{},state:f};e.loaded.stuff&&($=!0)}}else e=l}catch(E){b=500,y=H(E)}if(y){for(;n--;)if(h[n]){let e,a,o=n;for(;!(a=v[o]);)o-=1;try{if(e=await P({status:b,error:y,module:await h[n](),url:t,params:r,stuff:a.stuff,routeId:s.id}),null==(c=null==e?void 0:e.loaded)?void 0:c.error)continue;(null==(u=null==e?void 0:e.loaded)?void 0:u.stuff)&&(w={...w,...e.loaded.stuff}),v=v.slice(0,o+1).concat(e);break e}catch(E){continue}}return await S({status:b,error:y,url:t,routeId:s.id})}(null==(d=null==e?void 0:e.loaded)?void 0:d.stuff)&&(w={...w,...e.loaded.stuff}),v.push(e)}return await j({url:t,params:r,stuff:w,branch:v,status:b,error:y,routeId:s.id})}async function S({status:e,error:t,url:r,routeId:s}){var a,n;const o={},i=await P({module:await de,url:r,params:o,stuff:{},routeId:s}),l=await P({status:e,error:t,module:await fe,url:r,params:o,stuff:i&&i.loaded&&i.loaded.stuff||{},routeId:s});return await j({url:r,params:o,stuff:{...null==(a=null==i?void 0:i.loaded)?void 0:a.stuff,...null==(n=null==l?void 0:l.loaded)?void 0:n.stuff},branch:[i,l],status:e,error:t,routeId:s})}function V(e){if(e.origin!==location.origin||!e.pathname.startsWith(r))return;const t=decodeURI(e.pathname.slice(r.length)||"/");for(const r of ue){const a=r.exec(t);if(a){const t=new URL(e.origin+Z(e.pathname,s)+e.search+e.hash);return{id:t.pathname+t.search,route:r,params:Q(a),url:t}}}}async function U({url:e,scroll:t,keepfocus:r,redirect_chain:s,details:a,accepted:n,blocked:o}){const l=f.url;let u=!1;const d={from:l,to:e,cancel:()=>u=!0};c.before_navigate.forEach((e=>e(d))),u?o():(me(b),n(),p&&i.navigating.set({from:f.url,to:e}),await A(e,s,!1,{scroll:t,keepfocus:r,details:a},(()=>{const t={from:l,to:e};c.after_navigate.forEach((e=>e(t))),i.navigating.set(null)})))}function N(e){return location.href=e.href,new Promise((()=>{}))}return{after_navigate:e=>{m((()=>(c.after_navigate.push(e),()=>{const t=c.after_navigate.indexOf(e);c.after_navigate.splice(t,1)})))},before_navigate:e=>{m((()=>(c.before_navigate.push(e),()=>{const t=c.before_navigate.indexOf(e);c.before_navigate.splice(t,1)})))},disable_scroll_handling:()=>{!g&&p||(h=!1)},goto:(e,t={})=>L(e,t,[]),invalidate:e=>{if("function"==typeof e)o.push(e);else{const{href:t}=new URL(e,location.href);o.push((e=>e===t))}return v||(v=Promise.resolve().then((async()=>{await A(new URL(location.href),[],!0),v=null}))),v},prefetch:async e=>{const t=new URL(e,te(document));await x(t)},prefetch_routes:async e=>{const t=(e?ue.filter((t=>e.some((e=>t.exec(e))))):ue).map((e=>Promise.all(e.a.map((e=>e())))));await Promise.all(t)},_start_router:()=>{history.scrollRestoration="manual",addEventListener("beforeunload",(e=>{let t=!1;const r={from:f.url,to:null,cancel:()=>t=!0};c.before_navigate.forEach((e=>e(r))),t?(e.preventDefault(),e.returnValue=""):history.scrollRestoration="auto"})),addEventListener("visibilitychange",(()=>{if("hidden"===document.visibilityState){me(b);try{sessionStorage["sveltekit:scroll"]=JSON.stringify(he)}catch{}}}));const e=e=>{const t=se(e);t&&t.href&&t.hasAttribute("sveltekit:prefetch")&&x(ae(t))};let t;addEventListener("touchstart",e),addEventListener("mousemove",(e=>{clearTimeout(t),t=setTimeout((()=>{var t;null==(t=e.target)||t.dispatchEvent(new CustomEvent("sveltekit:trigger_prefetch",{bubbles:!0}))}),20)})),addEventListener("sveltekit:trigger_prefetch",e),addEventListener("click",(e=>{if(!$)return;if(e.button||1!==e.which)return;if(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return;if(e.defaultPrevented)return;const t=se(e);if(!t)return;if(!t.href)return;const r=t instanceof SVGAElement,s=ae(t);if(!r&&"https:"!==s.protocol&&"http:"!==s.protocol)return;const a=(t.getAttribute("rel")||"").split(/\s+/);if(t.hasAttribute("download")||a.includes("external")||t.hasAttribute("sveltekit:reload"))return;if(r?t.target.baseVal:t.target)return;const[n,o]=s.href.split("#");if(void 0!==o&&n===location.href.split("#")[0])return I=!0,me(b),i.page.set({...E,url:s}),void i.page.notify();U({url:s,scroll:t.hasAttribute("sveltekit:noscroll")?re():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:s.href===location.href},accepted:()=>e.preventDefault(),blocked:()=>e.preventDefault()})})),addEventListener("popstate",(e=>{if(e.state&&$){if(e.state[ce]===b)return;U({url:new URL(location.href),scroll:he[e.state[ce]],keepfocus:!1,redirect_chain:[],details:null,accepted:()=>{b=e.state[ce]},blocked:()=>{const t=b-e.state[ce];history.go(t)}})}})),addEventListener("hashchange",(()=>{I&&(I=!1,history.replaceState({...history.state,[ce]:++b},"",location.href))}));for(const r of document.querySelectorAll("link"))"icon"===r.rel&&(r.href=r.href);addEventListener("pageshow",(e=>{e.persisted&&i.navigating.set(null)}))},_hydrate:async({status:e,error:t,nodes:r,params:s,routeId:a})=>{var n;const o=new URL(location.href),i=[];let l,c,u={};try{for(let l=0;l<r.length;l+=1){const d=l===r.length-1;let f;if(d){const e=document.querySelector('script[sveltekit\\:data-type="props"]');e&&(f=JSON.parse(e.textContent))}const p=await P({module:await M[r[l]](),url:o,params:s,stuff:u,status:d?e:void 0,error:d?t:void 0,props:f,routeId:a});if(f&&(p.uses.dependencies.add(o.href),p.uses.url=!0),i.push(p),p&&p.loaded)if(p.loaded.error){if(t)throw p.loaded.error;c={status:null!=(n=p.loaded.status)?n:500,error:p.loaded.error,url:o,routeId:a}}else p.loaded.stuff&&(u={...u,...p.loaded.stuff})}l=c?await S(c):await j({url:o,params:s,stuff:u,branch:i,status:e,error:t,routeId:a})}catch(d){if(t)throw d;l=await S({status:500,error:H(d),url:o,routeId:a})}l.redirect&&await N(new URL(l.redirect,location.href)),k(l)}}}async function _e({paths:e,target:t,session:r,route:s,spa:a,trailing_slash:n,hydrate:o}){const i=ge({target:t,session:r,base:e.base,trailing_slash:n});(function(e){S=e.base,V=e.assets||S})(e),o&&await i._hydrate(o),s&&(a&&i.goto(location.href,{replaceState:!0}),i._start_router()),dispatchEvent(new CustomEvent("sveltekit:start"))}export{Y as set_public_env,_e as start};
