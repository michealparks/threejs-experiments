import{S as P,i as $,s as y,x as z,y as G,z as I,n as v,r as S,p as B,C as N,w as F}from"../../chunks/index-9379afd2.js";import{G as O,B as E,C as w,b as g,w as L,A as T,P as Y}from"../../chunks/gl-9f8be024.js";import{O as q}from"../../chunks/orbit-controls-8a0943e2.js";import{P as D}from"../../chunks/Pane-9d3d1016.js";import"../../chunks/tweakpane-ca06611a.js";function R(c){let e,n;return e=new D({props:{parameters:c[0],inputs:c[1]}}),e.$on("change",c[2]),{c(){z(e.$$.fragment)},l(o){G(e.$$.fragment,o)},m(o,r){I(e,o,r),n=!0},p:v,i(o){n||(S(e.$$.fragment,o),n=!0)},o(o){B(e.$$.fragment,o),n=!1},d(o){N(e,o)}}}function V(c){let e;const n={count:1e4,pointSize:.001,radius:1.82,branches:10,spin:1.304,randomness:.413,randomnessPower:3.543,insideColor:"#ff6030",outsideColor:"#1b3984"},o={count:{min:100,max:1e6,step:100},pointSize:{min:.001,max:.1,step:.001},radius:{min:.1,max:10,step:.01},branches:{min:2,max:20,step:1},spin:{min:-5,max:5,step:.001},randomness:{min:0,max:2,step:.001},randomnessPower:{min:1,max:10,step:.001},insideColor:void 0,outsideColor:void 0};let r,s,d;const u=()=>{d&&(r.dispose(),s.dispose(),e.remove(d)),r=new E;const t=new Float32Array(n.count*3),a=new Float32Array(n.count*3),_=new w(n.insideColor),b=new w(n.outsideColor);for(let p=0,i=0;p<n.count*3;p+=1,i=p*3){const m=Math.random()*n.radius,f=m*n.spin,h=p%n.branches/n.branches*Math.PI*2,x=Math.pow(Math.random(),n.randomnessPower)*(Math.random()<.5?1:-1)*n.randomness*m,C=Math.pow(Math.random(),n.randomnessPower)*(Math.random()<.5?1:-1)*n.randomness*m,A=Math.pow(Math.random(),n.randomnessPower)*(Math.random()<.5?1:-1)*n.randomness*m;t[i+0]=Math.cos(h+f)*m+x,t[i+1]=C,t[i+2]=Math.sin(h+f)*m+A;const l=_.clone();l.lerp(b,m/n.radius),a[i+0]=l.r,a[i+1]=l.g,a[i+2]=l.b}r.setAttribute("position",new g(t,3)),r.setAttribute("color",new g(a,3)),s=new L,s.size=n.pointSize,s.sizeAttenuation=!0,s.depthWrite=!1,s.blending=T,s.vertexColors=!0,d=new Y(r,s),e.add(d)},M=()=>{u()};return F(async()=>{const t=O(),a=new q(t.camera,t.canvas);a.autoRotate=!0,a.minDistance=Number.NEGATIVE_INFINITY,e=t.scene,u(),t.setAnimationLoop(()=>{a.update()})}),[n,o,M]}class H extends P{constructor(e){super(),$(this,e,V,R,y,{})}}export{H as default};
