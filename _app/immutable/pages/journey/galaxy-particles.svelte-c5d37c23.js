import{S as A,i as $,s as y,x as z,y as v,z as G,n as S,r as B,p as I,C as O,w as F}from"../../chunks/index-9379afd2.js";import{G as L,B as q,C as w,b as g,w as D,A as W,P as X}from"../../chunks/gl-4a6563e5.js";import{O as Y}from"../../chunks/orbitControls-6168c5f3.js";import{P as Z}from"../../chunks/Pane-b1a4f2b1.js";import"../../chunks/tweakpane-f38266ef.js";function j(c){let e,n;return e=new Z({props:{parameters:c[0],inputs:c[1]}}),e.$on("change",c[2]),{c(){z(e.$$.fragment)},l(o){v(e.$$.fragment,o)},m(o,a){G(e,o,a),n=!0},p:S,i(o){n||(B(e.$$.fragment,o),n=!0)},o(o){I(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function k(c){let e;const n={count:1e4,pointSize:.001,radius:5,branches:3,spin:1,randomness:.38,randomnessPower:3,insideColor:"#ff6030",outsideColor:"#1b3984"},o={count:{min:100,max:1e6,step:100},pointSize:{min:.001,max:.1,step:.001},radius:{min:.1,max:10,step:.01},branches:{min:2,max:20,step:1},spin:{min:-5,max:5,step:.001},randomness:{min:0,max:2,step:.001},randomnessPower:{min:1,max:10,step:.001},insideColor:void 0,outsideColor:void 0};let a,s,d;const u=()=>{d&&(a.dispose(),s.dispose(),e.remove(d)),a=new q;const t=new Float32Array(n.count*3),r=new Float32Array(n.count*3),C=new w(n.insideColor),_=new w(n.outsideColor);for(let p=0,i=0;p<n.count*3;p+=1,i=p*3){const m=Math.random()*n.radius,f=m*n.spin,h=p%n.branches/n.branches*Math.PI*2,b=Math.pow(Math.random(),n.randomnessPower)*(Math.random()<.5?1:-1)*n.randomness*m,x=Math.pow(Math.random(),n.randomnessPower)*(Math.random()<.5?1:-1)*n.randomness*m,P=Math.pow(Math.random(),n.randomnessPower)*(Math.random()<.5?1:-1)*n.randomness*m;t[i+0]=Math.cos(h+f)*m+b,t[i+1]=x,t[i+2]=Math.sin(h+f)*m+P;const l=C.clone();l.lerp(_,m/n.radius),r[i+0]=l.r,r[i+1]=l.g,r[i+2]=l.b}a.setAttribute("position",new g(t,3)),a.setAttribute("color",new g(r,3)),s=new D,s.size=n.pointSize,s.sizeAttenuation=!0,s.depthWrite=!1,s.blending=W,s.vertexColors=!0,d=new X(a,s),e.add(d)},M=()=>{u()};return F(async()=>{const t=L(),r=new Y(t.camera,t.canvas);r.minDistance=-1/0,e=t.scene,u(),t.setAnimationLoop(()=>{r.update()})}),[n,o,M]}class Q extends A{constructor(e){super(),$(this,e,k,j,y,{})}}export{Q as default};
