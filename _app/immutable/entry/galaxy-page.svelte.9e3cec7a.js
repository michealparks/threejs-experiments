import{S as n,i as s,s as o}from"../chunks/index.6b6f0a4a.js";import{v as e,B as t,C as a,a as r,P as i,c as d,d as m}from"../chunks/trzy.81d23169.js";import{d as c}from"../chunks/debug.0960ae26.js";function p(n){const{scene:s,camera:o}=e();o.position.set(0,4,4),o.lookAt(0,0,0);const p={count:1e4,pointSize:.001,radius:1.82,branches:10,spin:1.304,randomness:.413,randomnessPower:3.543,insideColor:"#ff6030",outsideColor:"#1b3984"};let u,h,l;const w=()=>{l&&(u.dispose(),h.dispose(),s.remove(l)),u=new t;const n=new Float32Array(3*p.count),o=new Float32Array(3*p.count),e=new a(p.insideColor),c=new a(p.outsideColor);for(let s=0,t=0;s<3*p.count;s+=1,t=3*s){const a=Math.random()*p.radius,r=a*p.spin,i=s%p.branches/p.branches*Math.PI*2,d=Math.pow(Math.random(),p.randomnessPower)*(Math.random()<.5?1:-1)*p.randomness*a,m=Math.pow(Math.random(),p.randomnessPower)*(Math.random()<.5?1:-1)*p.randomness*a,u=Math.pow(Math.random(),p.randomnessPower)*(Math.random()<.5?1:-1)*p.randomness*a;n[t+0]=Math.cos(i+r)*a+d,n[t+1]=m,n[t+2]=Math.sin(i+r)*a+u;const h=e.clone();h.lerp(c,a/p.radius),o[t+0]=h.r,o[t+1]=h.g,o[t+2]=h.b}u.setAttribute("position",new r(n,3)),u.setAttribute("color",new r(o,3)),h=new i,h.size=p.pointSize,h.sizeAttenuation=!0,h.depthWrite=!1,h.blending=d,h.vertexColors=!0,l=new m(u,h),s.add(l)},M=c.addPane("Galaxy"),x={count:{min:100,max:1e6,step:100},pointSize:{min:.001,max:.1,step:.001},radius:{min:.1,max:10,step:.01},branches:{min:2,max:20,step:1},spin:{min:-5,max:5,step:.001},randomness:{min:0,max:2,step:.001},randomnessPower:{min:1,max:10,step:.001},insideColor:void 0,outsideColor:void 0},b=()=>{w()};for(const[e,t]of Object.entries(x))M.addInput(p,e,t).on("change",b);return w(),[]}class u extends n{constructor(n){super(),s(this,n,p,null,o,{})}}export{u as default};
