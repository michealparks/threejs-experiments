import{S as e,i as o,s as t,e as n,c as r,a as i,d as u,f as s,H as c,z as a,aE as f,aF as l,aG as v,ar as m,W as d}from"../../chunks/vendor-610434e6.js";import{G as h}from"../../chunks/gl-2e610081.js";import{c as p}from"../../chunks/util-three-1ef0c915.js";function g(e){let o;return{c(){o=n("canvas")},l(e){o=r(e,"CANVAS",{}),i(o).forEach(u)},m(t,n){s(t,o,n),e[1](o)},p:c,i:c,o:c,d(t){t&&u(o),e[1](null)}}}function x(e,o,t){var n=this&&this.__awaiter||function(e,o,t,n){return new(t||(t=Promise))((function(r,i){function u(e){try{c(n.next(e))}catch(o){i(o)}}function s(e){try{c(n.throw(e))}catch(o){i(o)}}function c(e){var o;e.done?r(e.value):(o=e.value,o instanceof t?o:new t((function(e){e(o)}))).then(u,s)}c((n=n.apply(e,o||[])).next())}))};let r;return a((()=>n(void 0,void 0,void 0,(function*(){const e=new h(r);yield e.init({effects:[new f("Displacement","#define M_PI 3.1415926535897932384626433832795\nuniform sampler2D tDiffuse;uniform vec2 uResolution;uniform vec2 uStrength;vec4 blur(sampler2D image,vec2 uv,vec2 resolution,vec2 direction){vec4 color=vec4(0.0);vec2 off1=vec2(1.3846153846)*direction;vec2 off2=vec2(3.2307692308)*direction;color+=texture2D(image,uv)*0.2270270270;color+=texture2D(image,uv+(off1/resolution))*0.3162162162;color+=texture2D(image,uv-(off1/resolution))*0.3162162162;color+=texture2D(image,uv+(off2/resolution))*0.0702702703;color+=texture2D(image,uv-(off2/resolution))*0.0702702703;return color;}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 diffuseColor=texture2D(tDiffuse,uv);vec4 blurColor=blur(tDiffuse,uv,uResolution,uStrength);float blurStrength=1.0-sin(uv.y*M_PI);outputColor=mix(diffuseColor,blurColor,blurStrength);}",{blendFunction:l.Normal,uniforms:new Map([["uStrength",new v(new m(500,500))],["uResolution",new v(new m(innerWidth,innerHeight))]])})]});const o=p();e.scene.add(o),e.camera.position.set(2,2,2),e.camera.lookAt(o.position),e.setAnimationLoop((e=>{o.rotation.x+=e}))})))),[r,function(e){d[e?"unshift":"push"]((()=>{r=e,t(0,r)}))}]}export default class extends e{constructor(e){super(),o(this,e,x,g,t,{})}}
