import{S as n,i as t,s as e,e as s,k as a,c as i,a as o,d as c,n as u,b as r,f as p,H as l,z as d,aB as h,V as f,W as m,X as v,aC as w,Y as z,U as x}from"../../chunks/vendor-9aeeaeec.js";import{G as S}from"../../chunks/gl-d705d9d2.js";import{O as b}from"../../chunks/orbitControls-43b008a5.js";import{r as A}from"../../chunks/util-c54cb71a.js";function k(n){let t,e,d;return{c(){t=s("canvas"),e=a(),d=s("div"),this.h()},l(n){t=i(n,"CANVAS",{}),o(t).forEach(c),e=u(n),d=i(n,"DIV",{class:!0}),o(d).forEach(c),this.h()},h(){r(d,"class","pane")},m(s,a){p(s,t,a),n[2](t),p(s,e,a),p(s,d,a),n[3](d)},p:l,i:l,o:l,d(s){s&&c(t),n[2](null),s&&c(e),s&&c(d),n[3](null)}}}function y(n,t,e){var s=this&&this.__awaiter||function(n,t,e,s){return new(e||(e=Promise))((function(a,i){function o(n){try{u(s.next(n))}catch(t){i(t)}}function c(n){try{u(s.throw(n))}catch(t){i(t)}}function u(n){var t;n.done?a(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(o,c)}u((s=s.apply(n,t||[])).next())}))};let a,i;const o={count:1e3,pointSize:.02,sphereSize:3};let c=null,u=null,r=null;const p=n=>{null!==r&&(c.dispose(),u.dispose(),n.remove(r)),c=new m;const t=new Float32Array(3*o.count);for(let e=0;e<3*o.count;e+=3){const[n,s,a]=A(o.sphereSize);t[e+0]=n,t[e+1]=s,t[e+2]=a}c.setAttribute("position",new v(t,3)),u=new w,u.size=o.pointSize,u.sizeAttenuation=!0,u.depthWrite=!1,u.blending=z,r=new x(c,u),n.add(r)};return d((()=>s(void 0,void 0,void 0,(function*(){const n=new S(a),t=new b(n.camera,n.canvas);t.minDistance=-1/0,yield n.init(),p(n.scene);const e=new h.exports.Pane({container:i});e.addInput(o,"count",{min:100,max:1e6,step:100}),e.addInput(o,"pointSize",{min:.001,max:.1,step:.001}),e.addInput(o,"sphereSize",{min:1,max:100,step:1}),e.on("change",(()=>p(n.scene))),n.setAnimationLoop((n=>{t.update()}))})))),[a,i,function(n){f[n?"unshift":"push"]((()=>{a=n,e(0,a)}))},function(n){f[n?"unshift":"push"]((()=>{i=n,e(1,i)}))}]}export default class extends n{constructor(n){super(),t(this,n,y,k,e,{})}}
