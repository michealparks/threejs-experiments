import{S as n,i as s,s as a,e as o,k as e,j as t,c as r,a as i,d as c,n as m,m as d,f as u,o as p,H as l,v as h,r as f,w,z as v,W as M,X as b,R as x,Y as C,aB as P,Z as $,V as g}from"../../chunks/vendor-dc2a1d13.js";import{G as A}from"../../chunks/gl-afc887b2.js";import{O as y}from"../../chunks/orbitControls-449d8f4b.js";import{P as z}from"../../chunks/Pane-30f5f6d2.js";function j(n){let s,a,v,M;return v=new z({props:{parameters:n[1],inputs:n[2]}}),v.$on("change",n[3]),{c(){s=o("canvas"),a=e(),t(v.$$.fragment)},l(n){s=r(n,"CANVAS",{}),i(s).forEach(c),a=m(n),d(v.$$.fragment,n)},m(o,e){u(o,s,e),n[4](s),u(o,a,e),p(v,o,e),M=!0},p:l,i(n){M||(h(v.$$.fragment,n),M=!0)},o(n){f(v.$$.fragment,n),M=!1},d(o){o&&c(s),n[4](null),o&&c(a),w(v,o)}}}function k(n,s,a){var o=this&&this.__awaiter||function(n,s,a,o){return new(a||(a=Promise))((function(e,t){function r(n){try{c(o.next(n))}catch(s){t(s)}}function i(n){try{c(o.throw(n))}catch(s){t(s)}}function c(n){var s;n.done?e(n.value):(s=n.value,s instanceof a?s:new a((function(n){n(s)}))).then(r,i)}c((o=o.apply(n,s||[])).next())}))};let e,t;const r={count:1e4,pointSize:.001,radius:5,branches:3,spin:1,randomness:.38,randomnessPower:3,insideColor:"#ff6030",outsideColor:"#1b3984"};let i=null,c=null,m=null;const d=()=>{null!==m&&(i.dispose(),c.dispose(),t.remove(m)),i=new b;const n=new Float32Array(3*r.count),s=new Float32Array(3*r.count),a=new x(r.insideColor),o=new x(r.outsideColor);for(let e=0,t=0;e<3*r.count;e+=1,t=3*e){const i=Math.random()*r.radius,c=i*r.spin,m=e%r.branches/r.branches*Math.PI*2,d=Math.pow(Math.random(),r.randomnessPower)*(Math.random()<.5?1:-1)*r.randomness*i,u=Math.pow(Math.random(),r.randomnessPower)*(Math.random()<.5?1:-1)*r.randomness*i,p=Math.pow(Math.random(),r.randomnessPower)*(Math.random()<.5?1:-1)*r.randomness*i;n[t+0]=Math.cos(m+c)*i+d,n[t+1]=u,n[t+2]=Math.sin(m+c)*i+p;const l=a.clone();l.lerp(o,i/r.radius),s[t+0]=l.r,s[t+1]=l.g,s[t+2]=l.b}i.setAttribute("position",new C(n,3)),i.setAttribute("color",new C(s,3)),c=new P,c.size=r.pointSize,c.sizeAttenuation=!0,c.depthWrite=!1,c.blending=$,c.vertexColors=!0,m=new g(i,c),t.add(m)};return v((()=>o(void 0,void 0,void 0,(function*(){const n=new A(e),s=new y(n.camera,n.canvas);s.minDistance=-1/0,t=n.scene,yield n.init(),d(),n.setAnimationLoop((n=>{s.update()}))})))),[e,r,{count:{min:100,max:1e6,step:100},pointSize:{min:.001,max:.1,step:.001},radius:{min:.1,max:10,step:.01},branches:{min:2,max:20,step:1},spin:{min:-5,max:5,step:.001},randomness:{min:0,max:2,step:.001},randomnessPower:{min:1,max:10,step:.001},insideColor:void 0,outsideColor:void 0},()=>{d()},function(n){M[n?"unshift":"push"]((()=>{e=n,a(0,e)}))}]}export default class extends n{constructor(n){super(),s(this,n,k,j,a,{})}}
